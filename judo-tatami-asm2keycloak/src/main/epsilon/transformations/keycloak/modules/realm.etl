pre {
    var realms = new Set();

    for (actor in asmUtils.getAllActorTypes()) {
        var realm = asmUtils.getExtensionAnnotationValue(actor, "realm", false);
        if (realm.present) {
            realms.add(realm.get);
        }
    }

    for (realmName in realms) {
        var realm = new KEYCLOAK!Realm;
        realm.name = realmName;
        realm.enabled = true;
        realm.loginWithEmailAllowed = true;

        log.debug("Realm created: " + realm.name);
    }
}
