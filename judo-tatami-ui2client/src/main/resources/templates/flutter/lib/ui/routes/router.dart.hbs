{{ log 'Route generation for' (variable application.name) level='info' }}
//////////////////////////////////////////////////////////////////////////////
// G E N E R A T E D    C L A S S
// ------------------------------
// Factory expression: {{{ cleanup template.factoryExpression }}}
// Path expression: {{{ cleanup template.pathExpression }}}
// Overwrite: {{{ cleanup template.overwriteExpression }}}
// Template name: {{ template.templateName }}
// Application: {{ application.name }}

import 'package:auto_route/auto_route.dart';
import 'package:auto_route/auto_route_annotations.dart';
import '../guards/auth_guard.dart';
import '../pages/package.dart';

const List<AutoRoute> bookmarkableRoutes = [
    {{# each application.pages as |page| }}
    {{# if (isBookmarkablePage page) }}
    CustomRoute(
        {{# if page.isPageTypeDashboard }}
        initial: true,
        path: '/',
        {{ else if page.isPageTypeView }}
        path: '/{{ uriPathWithIdParam page.name }}',
        {{ else }}
        path: '/{{ uriPath page.name }}',
        {{/ if }}
        page: {{ pageClassName page }},
        transitionsBuilder: TransitionsBuilders.slideLeftWithFade,
        guards: [AuthGuard],
    ),
    {{/ if }}
    {{/ each }}
];

const List<AutoRoute> otherRoutes = [
    {{# each application.pages as |page| }}
    {{# unless (isBookmarkablePage page) }}
    CustomRoute(
        path: '/{{ uriPath page.name }}',
        page: {{ pageClassName page }},
        transitionsBuilder: TransitionsBuilders.slideLeftWithFade,
        guards: [AuthGuard],
    ),
    {{/ unless }}
    {{/ each }}
];

const List<AutoRoute> genericRoutes = [
    CustomRoute(
        page: {{ fqClass application.name }}SettingsPage,
        transitionsBuilder: TransitionsBuilders.slideLeftWithFade,
    ),
    CustomRoute(
        page: {{ fqClass application.name }}ErrorPage,
        transitionsBuilder: TransitionsBuilders.slideLeftWithFade,
    ),
    CustomRoute(
        page: {{ fqClass application.name }}BlankPage,
        transitionsBuilder: TransitionsBuilders.slideLeftWithFade,
    ),
];

const List<AutoRoute> allRoutes = [...bookmarkableRoutes, ...otherRoutes, ...genericRoutes];

@MaterialAutoRouter(preferRelativeImports: true, routes: allRoutes)
class $Router {}
