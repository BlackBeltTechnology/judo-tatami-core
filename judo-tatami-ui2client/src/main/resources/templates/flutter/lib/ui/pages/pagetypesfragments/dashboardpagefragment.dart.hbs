{{# if addDebugToTemplate }}//START dashboardpagefragment.dart.hbs-----{{ page.name }}-----------------------------------------------------------------------------------{{/ if }}
    @override
    State<StatefulWidget> createState() => _{{ pageStateClassName page }}();
}

class _{{ pageStateClassName page }} extends State<{{ pageClassName page }}> {
        final {{ pageStoreClassName page }} pageStore = {{ pageStoreClassName page }}();

    {{# if page.dataElement }}
        {{ storeClassName page.dataElement.target }} targetStore;
    {{/ if }}

        _{{ pageStateClassName page }}(){
    {{# if page.dataElement }}
            pageStore.targetStore = targetStore;
    {{/ if }}

            final navigation = locator<NavigationState>();
    {{# if page.dataElement }}
            final navigationRegistry = locator<NavigationRegistry>();
            pageStore.get{{ fqClass page.relationType.name }}()
                .then((res) {
                    if (res != null) {
                        targetStore = res;
                        pageStore.getterStatusSetFulfilled();

                        SchedulerBinding.instance.addPostFrameCallback((_) {
                            navigation.setCurrentTitle(AppLocalizations.of(context).lookUpValue(context, {{ pageClassName page }}.title){{# if page.dataElement.target.representation }} + ' - ${targetStore?.{{ variable page.dataElement.target.representation.name }} }'{{/ if }});
                        });
                    } else {
                        var currentPageNavigation = navigationRegistry.getPageNavigationByRoute(Routes.{{ pageClassVariableName application.dashboard }});
                        if (currentPageNavigation.createPage != null) {
                            navigation.navigateTo(currentPageNavigation.createPage.route);
                        } else {
                            navigation.navigateTo(Routes.{{ fqVariable application.name }}BlankPage);
                        }
                        pageStore.getterStatusSetRejected();
                    }
                })
                .catchError((error) => ErrorHandler.showErrorSnack(context, error.message));
    {{/ if }}
        }
        {{# if addDebugToTemplate }}//END dashboardpagefragment.dart.hbs-----{{ page.name }}-------------------------------------------------------------------------------------{{/ if }}
