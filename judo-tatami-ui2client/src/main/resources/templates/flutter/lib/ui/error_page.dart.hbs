{{log 'Error page generation for' (variable application.name) level='info'}}
//////////////////////////////////////////////////////////////////////////////
// G E N E R A T E D    C L A S S
// ------------------------------
// Factory expression: {{{ cleanup template.factoryExpression }}}
// Path expression: {{{ cleanup template.pathExpression }}}
// Overwrite: {{{ cleanup template.overwriteExpression }}}
// Template name: {{ template.templateName }}
// Application: {{ application.name }}

import 'package:flutter/material.dart';
import 'package:{{ modelPackage application.name }}/{{ path application.name }}/l10n/app_localizations.dart';
import 'package:{{ modelPackage application.name }}/{{ path application.name }}/injector/injector.dart';
import 'package:{{ modelPackage application.name }}/{{ path application.name }}/ui/navigation/navigation_state.dart';

class {{ fqClass application.name }}ErrorPage extends StatefulWidget {

  final int errorCode;
  final String errorMessage;
  final String errorDescription;
  final Icon icon;
  final String title;
  final String stackTrace;


  {{ fqClass application.name }}ErrorPage({this.errorCode, @required this.errorMessage, this.errorDescription, this.stackTrace, this.icon, this.title});

  @override
  _ErrorPageState createState() => _ErrorPageState();
}

class _ErrorPageState extends State<{{ fqClass application.name }}ErrorPage> {

  @override
  Widget build(BuildContext context) {
    final navigation = locator<NavigationState>();
    navigation.setCurrentTitle(AppLocalizations.of(context).lookUpValue(context, widget.title ?? 'Error'));


        return CustomScrollView(
          slivers: [
            SliverFillRemaining(
              hasScrollBody: false,
              child: Center(
                child: Column(
                    crossAxisAlignment: CrossAxisAlignment.center,
                    mainAxisSize: MainAxisSize.min,
                    children: [
                      if(widget.icon != null)
                        widget.icon,
                      if(widget.errorCode != null)
                        Text(widget.errorCode.toString()),
                      if (widget.errorMessage != null)
                        Text(widget.errorMessage),
                      if (widget.errorDescription != null)
                        Text(widget.errorDescription),
                      if (widget.stackTrace != null)
                        Text(widget.stackTrace),
                    ]
                ),
              ),
            )
          ]
      );
  }
}
