import 'package:auto_route/auto_route.dart';
import 'package:flutter/material.dart';

import 'navigation_state.dart';

class CustomNavigationObserver implements NavigatorObserver {
  final NavigationState navigationState;
  CustomNavigationObserver({this.navigationState});

  @override
  void didPop(Route route, Route previousRoute) {}

  @override
  void didPush(Route route, Route previousRoute) {
    try {
      var template = (route.settings as RouteData).template;
      navigationState.setCurrentRoute(template);
    } catch (_) {}
  }

  @override
  void didRemove(Route route, Route previousRoute) {}

  @override
  void didReplace({Route newRoute, Route oldRoute}) {}

  @override
  void didStartUserGesture(Route route, Route previousRoute) {}

  @override
  void didStopUserGesture() {}

  @override
  NavigatorState get navigator => null;
}
