{{log 'Embedded table paging actions generation for' (variable application.name) '-' (fqClass page.name)'page'(variable relation.name)'relation' level='debug'}}
//START embedded_table_paging_actions.dart.hbs-----{{relaltion.name}}---------------------------------------------------------------------------------
// {{ className relation.name }} embedded table paging

{{# if relation.isCollection}}
@computed
int get {{ variable relation.name }}TableItemsRangeStart => {{ variable relation.name }}TablePageNumber * {{ fqVariable relation.name }}QueryLimit + 1;

@computed
int get {{ variable relation.name }}TableItemsRangeEnd => {{ variable relation.name }}TableItemsRangeStart - 1 + {{ variable relation.name }}TablePagingList.length;

@observable
int {{ variable relation.name }}TablePageNumber = 0;

@computed
bool get {{ variable relation.name }}TablePreviousEnable => {{ variable relation.name }}TablePageNumber > 0;

@computed
bool get {{ variable relation.name }}TableNextEnable =>
    ({{ variable relation.name }}TablePageNumber*{{ variable relation.name }}QueryLimit + {{ variable relation.name }}QueryLimit) < targetStore.{{ variable relation.name }}.length;

@action
void {{ variable relation.name }}TableNextPage() {
    if ({{ variable relation.name }}TableNextEnable) {
        {{ variable relation.name }}TablePageNumber++;
    }
}

@action
void {{ variable relation.name }}TablePreviousPage() {
    if ({{ variable relation.name }}TablePreviousEnable) {
        {{ variable relation.name }}TablePageNumber--;
    }
}

@computed
List<{{ storeClassName relation.target.name }}> get {{ variable relation.name }}TablePagingList {
    int subListStart = {{ variable relation.name }}TablePageNumber * {{ variable relation.name }}QueryLimit;
    int subListEnd;
    if ({{ variable relation.name }}TableNextEnable) {
        subListEnd = subListStart + {{ variable relation.name }}QueryLimit;
    } else {
        subListEnd = targetStore.{{ variable relation.name }}.length;
    }
    return targetStore.{{ variable relation.name }}.sublist(subListStart, subListEnd);
}
{{/ if }}


//END embedded_table_paging_actions.dart.hbs-----{{relaltion.name}}-----------------------------------------------------------------------------------
