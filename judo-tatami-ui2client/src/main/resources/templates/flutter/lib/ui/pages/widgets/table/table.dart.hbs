//////////////////////////////////////////////////////////////////////////////
// G E N E R A T E D    C L A S S
// ------------------------------
// Factory expression: {{{ cleanup template.factoryExpression }}}
// Path expression: {{{ cleanup template.pathExpression }}}
// Overwrite: {{{ cleanup template.overwriteExpression }}}
// Template name: {{ template.templateName }}
// Application: {{ application.name }}

part of {{ variable application.name }}.ui.pages.tables;

class {{ fqClass table.pageDefinition.name }}{{ fqClass table.name }}Table implements JudoTableDataInfo {

    @override
    List<DataColumn> getColumns() {
        return [
            {{# each columns}}
            DataColumn(label: Text('{{label}}')),
            {{/each}}
            {{#each table.rowActions}}
            DataColumn(label: Text(""))
            {{/each}}
        ];
    }

    @override
    Function getRow({Function navigateToEditPageAction, Function navigateToViewPageAction, Function navigateToCreatePageAction, Function removeAction}) {
        return ({{variable table.dataElement.name}}) => DataRow(
            cells: [
                {{# each columns as |column|}}
                DataCell(
                    {{#if column}}
                    {{> (getWidgetTemplate column) column=column dataName=(variable table.dataElement.name)}}
                    {{/if}}
                ),
                {{/each}}
                {{#each table.rowActions as |action|}}
                {{#if (isRemoveButton action)}}
                DataCell(
                    Icon(Icons.{{action.icon.name}}),
                    onTap: () => removeAction({{variable table.dataElement.name}}),
                ),
                {{/if}}
                {{#if (isViewButton action)}}
                DataCell(
                    Icon(Icons.{{action.icon.name}}),
                    onTap: () => navigateToViewPageAction({{variable table.dataElement.name}}),
                )
                {{/if}}
                {{/each}}
            ],
        );
    }
}
