{{~ log 'Link generation for' (variable application.name) '-' (fqClass page.name) (variable dataElement.name) level='debug' ~}}
{{# if addDebugToTemplate }}//START xmi:id="{{ getXMIID this }}" aggregationlink.dart.hbs-----{{ dataElement.name }}----------------------------------------------------------------------------------{{/ if }}
{{# with dataElement as |relation| }}
Observer(builder: (_) {
    return JudoLink(
        {{# unless (isViewTypePage page) }}
            errorMessage: pageStore.validationAttributeErrorMessageMap['{{ variable relation.name }}'].message,
        {{/ unless }}

        {{# if link.isLabelVisible }}
            label: AppLocalizations.of(context).lookUpValue(context, '{{ link.label }}'),
        {{/ if }}

        {{# if link.isIconVisible }}
            icon: Icon(getIconByString('{{ link.icon.name }}')),
        {{/ if }}

        {{# if isInCard }}
            inCard: true,
        {{/ if }}

        disabled: {{# if disabled }}true{{ else }}pageStore.pageState.disabledByLoading{{/ if }},

        {{# if page.isPageTypeView }}
            readOnly: true,
        {{ else }}
            {{# if attributeType.isReadOnly }}
                readOnly: true,
            {{ else }}
                readOnly: false,
            {{/ if }}
        {{/ if }}

        col: {{ col }},
        {{# neq row 1.0 }}row: {{ row }},{{/ neq }}
        formatter: (element) {
            if (element == null) return '';
            var ret = '';
            {{# each link.parts as |part| }}
                {{# if part }}
                    if (element.{{ variable part.attributeType.name }} != null) {
                        if (ret.length > 0) ret = ret + ' - ';
                        ret = ret + ({{> flutter/lib/ui/pages/widgets/link/linkformatter.dart.hbs part=part dataName=(className link.dataElement.target.name) parameterVariable='element' }});
                    }
                {{/ if }}
            {{/ each }}
            return ret;
        },

        data: targetStore.{{ variable relation.name }},
        {{# each link.actions as |action| }}
            {{# if action.isSetAction }}
                {{> flutter/lib/ui/pages/widgets/link/aggregationlink/setaction.dart.hbs relation=relation page=page action=action attributeType=attributeType }}
            {{/ if }}
        {{/ each }}
        actions: [
            {{# each link.actions as |action| }}
                {{# if action.isViewAction }}
                    {{> flutter/lib/ui/pages/widgets/link/aggregationlink/viewaction.dart.hbs relation=relation page=page action=action attributeType=attributeType }}
                {{/ if }}

                {{# if action.isEditAction }}
                    {{> flutter/lib/ui/pages/widgets/link/aggregationlink/editaction.dart.hbs relation=relation page=page action=action attributeType=attributeType }}
                {{/ if }}

                {{# if action.isCreateAction }}
                    {{> flutter/lib/ui/pages/widgets/link/aggregationlink/createaction.dart.hbs relation=relation page=page action=action attributeType=attributeType }}
                {{/ if }}

                {{# if action.isRemoveAction }}
                    {{> flutter/lib/ui/pages/widgets/link/aggregationlink/removeaction.dart.hbs relation=relation page=page action=action attributeType=attributeType }}
                {{/ if }}

                {{# if action.isDeleteAction }}
                    {{> flutter/lib/ui/pages/widgets/link/aggregationlink/deleteaction.dart.hbs relation=relation page=page action=action attributeType=attributeType }}
                {{/ if }}

                {{# if action.isUnsetAction }}
                    {{> flutter/lib/ui/pages/widgets/link/aggregationlink/unsetaction.dart.hbs relation=relation page=page action=action attributeType=attributeType }}
                {{/ if }}
            {{/ each }}
        ],
    );
}),
{{/ with }}
{{# if addDebugToTemplate }}//END aggregationlink.dart.hbs-----{{ dataElement.name }}------------------------------------------------------------------------------------{{/ if }}
