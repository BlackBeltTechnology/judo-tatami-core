{{log 'Main launcher generation for' (variable application.name) level='info'}}
//////////////////////////////////////////////////////////////////////////////
// G E N E R A T E D    C L A S S
// ------------------------------
// Factory expression: {{{ cleanup template.factoryExpression }}}
// Path expression: {{{ cleanup template.pathExpression }}}
// Overwrite: {{{ cleanup template.overwriteExpression }}}
// Template name: {{ template.templateName }}
// Application: {{ application.name }}

import 'package:flutter/material.dart';
import 'package:openapi_dart_common/openapi.dart';
import '{{ path application.name }}/injector/injector.dart';
import '{{ path application.name }}/main.dart';
import '{{ path application.name }}/oauth.dart';

void main() async {
    configureDependencies();
    const bool kIsWeb = identical(0, 0.0);

    ApiClient _apiClient = ApiClient(basePath: "http://localhost:8181/api/{{ baseUrl application.name }}", apiClientDelegate: Oauth.getDioDelegate());
    locator.registerSingleton<ApiClient>(_apiClient);

    await Oauth.loadClientMetaData();

    var token = await Oauth.processLogin();
    Oauth.addTokenToApiClient(token);
    runApp({{ fqClass application.name }}Application());
}
