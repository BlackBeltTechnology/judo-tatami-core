<?xml version="1.0" encoding="UTF-8"?>
<features name="judo-tatami-${project.version}"
    xmlns="http://karaf.apache.org/xmlns/features/v1.5.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://karaf.apache.org/xmlns/features/v1.5.0 http://karaf.apache.org/xmlns/features/v1.5.0">

    <feature name="judo-tatami-meta-asm" version="${project.version}" description="JUDO Tatami, Architecture Specific Model " install="false">
        <feature dependency="true">epsilon-runtime</feature>
        <feature dependency="true">osgi-utils</feature>
        <bundle>mvn:hu.blackbelt.judo.meta/judo-meta-asm/${judo-meta-asm-version}</bundle>
    </feature>

    <feature name="judo-tatami-meta-esm" version="${project.version}" description="JUDO Tatami, Editor Model " install="false">
        <feature dependency="true">epsilon-runtime</feature>
        <feature dependency="true">osgi-utils</feature>
        <bundle>mvn:hu.blackbelt.judo.meta/judo-meta-esm-runtime/${judo-meta-esm-version}</bundle>
    </feature>

   <feature name="judo-tatami-meta-psm" version="${project.version}" description="JUDO Tatami, Platform Specific Model " install="false">
        <feature dependency="true">epsilon-runtime</feature>
        <feature dependency="true">osgi-utils</feature>
        <bundle>mvn:hu.blackbelt.judo.meta/judo-meta-psm-runtime/${judo-meta-psm-version}</bundle>
    </feature>

    <feature name="judo-tatami-meta-jql" version="${project.version}" description="JUDO Tatami, JUDO Query Language Model" install="false">
        <feature dependency="true">guice</feature>
        <feature dependency="true">epsilon-runtime</feature>
        <feature dependency="true">eclipse-xtext</feature>
        <feature dependency="true">osgi-utils</feature>
        <bundle>mvn:hu.blackbelt.judo.meta/judo-meta-psm-jql-runtime/${judo-meta-psm-jql-version}</bundle>
    </feature>

    <feature name="judo-tatami-meta-jql-extract" version="${project.version}" description="JUDO Tatami, JUDO Query Language Scope Model" install="false">
        <feature dependency="true">epsilon-runtime</feature>
        <feature dependency="true">osgi-utils</feature>
        <feature>judo-tatami-meta-jql</feature>
        <bundle>mvn:hu.blackbelt.judo.meta/judo-meta-psm-jql-extract-runtime/${judo-meta-psm-jql-extract-version}</bundle>
    </feature>

    <feature name="judo-tatami-meta-expression" version="${project.version}" description="JUDO Tatami, Expression Model " install="false">
        <feature dependency="true">epsilon-runtime</feature>
        <feature dependency="true">osgi-utils</feature>
        <bundle>mvn:hu.blackbelt.judo.meta/judo-meta-expression-runtime/${judo-meta-expression-version}</bundle>
    </feature>

    <feature name="judo-tatami-meta-measure" version="${project.version}" description="JUDO Tatami, Measure Model " install="false">
        <feature dependency="true">epsilon-runtime</feature>
        <feature dependency="true">osgi-utils</feature>
        <bundle>mvn:hu.blackbelt.judo.meta/judo-meta-measure-runtime/${judo-meta-measure-version}</bundle>
    </feature>

    <feature name="judo-tatami-meta-openapi" version="${project.version}" description="JUDO Tatami, OpenAPI Model " install="false">
        <feature dependency="true">epsilon-runtime</feature>
        <feature dependency="true">osgi-utils</feature>
        <feature dependency="true">cxf-rs-description-swagger2</feature>
        <bundle>mvn:hu.blackbelt.judo.meta/judo-meta-openapi-runtime/${judo-meta-openapi-version}</bundle>
    </feature>

    <feature name="judo-tatami-meta-rdbms" version="${project.version}" description="JUDO Tatami, RDBMS Model " install="false">
        <feature dependency="true">epsilon-runtime</feature>
        <feature dependency="true">osgi-utils</feature>
        <bundle>mvn:hu.blackbelt.judo.meta/judo-meta-rdbms-runtime/${judo-meta-rdbms-version}</bundle>
    </feature>

    <feature name="judo-tatami-meta-liquibase" version="${project.version}" description="JUDO Tatami, Liquibase Model " install="false">
        <feature dependency="true">epsilon-runtime</feature>
        <feature dependency="true">osgi-utils</feature>
        <bundle>mvn:hu.blackbelt.judo.meta/judo-meta-liquibase-runtime/${judo-meta-liquibase-version}</bundle>
    </feature>

    <feature name="judo-tatami-meta" version="${project.version}" description="JUDO Tatami, meta types" install="false">
        <feature>judo-tatami-meta-asm</feature>
        <feature>judo-tatami-meta-psm</feature>
        <feature>judo-tatami-meta-jql</feature>
        <feature>judo-tatami-meta-jql-extract</feature>
        <feature>judo-tatami-meta-expression</feature>
        <feature>judo-tatami-meta-measure</feature>
        <feature>judo-tatami-meta-openapi</feature>
        <feature>judo-tatami-meta-rdbms</feature>
        <feature>judo-tatami-meta-liquibase</feature>
    </feature>


    <feature name="judo-tatami-core" version="${project.version}" description="JUDO Tatami, Core" install="false">
        <feature dependency="true">guava</feature>
        <feature dependency="true">eclipse-emf</feature>
        <feature dependency="true">epsilon-runtime</feature>
        <feature>judo-tatami-meta-asm</feature>
        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-core/${project.version}</bundle>
    </feature>

    <feature name="judo-tatami-psm2asm" version="${project.version}" description="JUDO Tatami, PSM to ADM Transformation" install="false">
        <feature>judo-tatami-meta-asm</feature>
        <feature>judo-tatami-meta-psm</feature>
        <feature>judo-tatami-core</feature>
        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-psm2asm/${project.version}</bundle>
    </feature>

    <feature name="judo-tatami-psm2jql" version="${project.version}" description="JUDO Tatami, PSM to JQL Transformation" install="false">
        <feature>judo-tatami-meta-jql</feature>
        <feature>judo-tatami-meta-psm</feature>
        <feature>judo-tatami-meta-jql-extract</feature>
        <feature>judo-tatami-core</feature>
        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-psm2jql/${project.version}</bundle>
    </feature>

    <feature name="judo-tatami-psm2measure" version="${project.version}" description="JUDO Tatami, PSM to Measure Transformation" install="false">
        <feature>judo-tatami-meta-measure</feature>
        <feature>judo-tatami-meta-psm</feature>
        <feature>judo-tatami-core</feature>
        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-psm2measure/${project.version}</bundle>
    </feature>

    <feature name="judo-tatami-asm2jaxrsapi" version="${project.version}" description="JUDO Tatami, ASM to JAXRS API" install="false">
        <feature>judo-tatami-meta-asm</feature>
        <feature>judo-tatami-core</feature>
        <feature dependency="true">tinybundles</feature>
        <feature dependency="true">cxf-jackson</feature>
        <bundle dependency="true">mvn:hu.blackbelt.judo.framework/compiler-api/${judo-framework-version}</bundle>
        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-asm2jaxrsapi/${project.version}</bundle>
    </feature>

    <feature name="judo-tatami-asm2openapi" version="${project.version}" description="JUDO Tatami, ASM to OpenAPI 2 (Swagger)" install="false">
        <feature>judo-tatami-meta-asm</feature>
        <feature>judo-tatami-meta-openapi</feature>
        <feature>judo-tatami-core</feature>
        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-asm2openapi/${project.version}</bundle>
    </feature>

    <feature name="judo-tatami-asm2rdbms" version="${project.version}" description="JUDO Tatami, ASM to RDBMS" install="false">
        <feature>judo-tatami-meta-asm</feature>
        <feature>judo-tatami-meta-rdbms</feature>
        <feature>judo-tatami-core</feature>
        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-asm2rdbms/${project.version}</bundle>
    </feature>

    <feature name="judo-tatami-jql2expression" version="${project.version}" description="JUDO Tatami, JQL to Expression" install="false">
        <feature>judo-tatami-meta-jql</feature>
        <feature>judo-tatami-meta-jql-extract</feature>
        <feature>judo-tatami-meta-expression</feature>
        <feature>judo-tatami-meta-measure</feature>
        <feature>judo-tatami-core</feature>
        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-jql2expression/${project.version}</bundle>
    </feature>

    <feature name="judo-tatami-rdbms2liquibase" version="${project.version}" description="JUDO Tatami, JQL to Expression" install="false">
        <feature>judo-tatami-meta-rdbms</feature>
        <feature>judo-tatami-meta-liquibase</feature>
        <feature>judo-tatami-core</feature>
        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-rdbms2liquibase/${project.version}</bundle>
    </feature>

<!--
<feature name="judo-tatami" version="${project.version}" description="JUDO Tatami, tatami" install="false">
    <bundle dependency="true">mvn:hu.blackbelt.judo.framework/compiler-api/${judo-framework-version}</bundle>

    <feature>judo-tatami-meta</feature>
    <feature dependency="true">tinybundles</feature>

    <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-core/${project.version}</bundle>

    <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-psm2asm/${project.version}</bundle>
    <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-psm2jql/${project.version}</bundle>
    <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-psm2measure/${project.version}</bundle>

    <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-asm2jaxrsapi/${project.version}</bundle>
    <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-asm2openapi/${project.version}</bundle>
    <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-asm2rdbms/${project.version}</bundle>

    <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-jql2expression/${project.version}</bundle>
    <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-rdbms2liquibase/${project.version}</bundle>

</feature>

<feature name="judo-tatami-full" version="${project.version}" description="JUDO platform, full" install="false">
    <feature dependency="true">judo-framework-full</feature>
    <config name="hu.blackbelt.jaxrs.providers.JacksonProvider">
        JacksonProvider.SerializationFeature.INDENT_OUTPUT = true
    </config>
    <feature>judo-tatami-meta</feature>
    <feature>judo-tatami</feature>
</feature>
-->

</features>
