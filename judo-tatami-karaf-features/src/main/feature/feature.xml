<?xml version="1.0" encoding="UTF-8"?>
<features name="judo-tatami-${project.version}"
    xmlns="http://karaf.apache.org/xmlns/features/v1.5.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://karaf.apache.org/xmlns/features/v1.5.0 http://karaf.apache.org/xmlns/features/v1.5.0">

    <feature name="judo-tatami-meta-asm" version="${project.version}" description="JUDO Tatami, Architecture Specific Model " install="false">
        <feature dependency="true">epsilon-runtime</feature>
        <feature dependency="true">osgi-utils</feature>
        <feature dependency="true">guava-27</feature>
        <bundle>mvn:hu.blackbelt.judo.meta/hu.blackbelt.judo.meta.asm.osgi/${judo-meta-asm-version}</bundle>
    </feature>

    <feature name="judo-tatami-meta-esm" version="${project.version}" description="JUDO Tatami, Editor Model " install="false">
        <feature dependency="true">epsilon-runtime</feature>
        <feature dependency="true">osgi-utils</feature>
        <feature dependency="true">guava-27</feature>
        <bundle>mvn:hu.blackbelt.judo.meta/hu.blackbelt.judo.meta.esm.osgi/${judo-meta-esm-version}</bundle>
    </feature>

   <feature name="judo-tatami-meta-psm" version="${project.version}" description="JUDO Tatami, Platform Specific Model " install="false">
        <feature dependency="true">epsilon-runtime</feature>
        <feature dependency="true">osgi-utils</feature>
        <feature dependency="true">guava-27</feature>
        <bundle>mvn:hu.blackbelt.judo.meta/hu.blackbelt.judo.meta.psm.osgi/${judo-meta-psm-version}</bundle>
   </feature>

    <feature name="judo-tatami-meta-jql" version="${project.version}" description="JUDO Tatami, JUDO Query Language Model" install="false">
        <feature dependency="true">guice</feature>
        <feature dependency="true">eclipse-xtext</feature>
        <feature dependency="true">epsilon-runtime</feature>
        <feature dependency="true">osgi-utils</feature>
        <feature dependency="true">guava-27</feature>
        <bundle>mvn:hu.blackbelt.judo.meta/hu.blackbelt.judo.meta.jql.osgi/${judo-meta-jql-version}</bundle>
    </feature>

    <feature name="judo-tatami-meta-expression" version="${project.version}" description="JUDO Tatami, Expression Model " install="false">
        <feature dependency="true">epsilon-runtime</feature>
        <feature dependency="true">osgi-utils</feature>
        <feature dependency="true">guava-27</feature>
        <bundle>mvn:hu.blackbelt.judo.meta/hu.blackbelt.judo.meta.expression.osgi/${judo-meta-expression-version}</bundle>
        <bundle>mvn:hu.blackbelt.judo.meta/hu.blackbelt.judo.meta.expression.model.adapter.measure/${judo-meta-expression-version}</bundle>
    </feature>

    <feature name="judo-tatami-meta-expression-asm" version="${project.version}" description="JUDO Tatami, Expression Model for ASM" install="false">
        <feature>judo-tatami-meta-expression</feature>
        <feature>judo-tatami-meta-measure</feature>
        <feature dependency="true">guava-27</feature>
        <bundle>mvn:hu.blackbelt.judo.meta/hu.blackbelt.judo.meta.expression.model.adapter.asm/${judo-meta-expression-version}</bundle>
        <bundle>mvn:hu.blackbelt.judo.meta/hu.blackbelt.judo.meta.expression.builder.jql/${judo-meta-expression-version}</bundle>
        <bundle>mvn:hu.blackbelt.judo.meta/hu.blackbelt.judo.meta.expression.builder.jql.asm/${judo-meta-expression-version}</bundle>
    </feature>

    <feature name="judo-tatami-meta-expression-psm" version="${project.version}" description="JUDO Tatami, Expression Model for PSM" install="false">
        <feature>judo-tatami-meta-expression</feature>
        <feature dependency="true">guava-27</feature>
        <bundle>mvn:hu.blackbelt.judo.meta/hu.blackbelt.judo.meta.expression.model.adapter.psm/${judo-meta-expression-version}</bundle>
    </feature>

    <feature name="judo-tatami-meta-measure" version="${project.version}" description="JUDO Tatami, Measure Model " install="false">
        <feature dependency="true">epsilon-runtime</feature>
        <feature dependency="true">osgi-utils</feature>
        <feature dependency="true">guava-27</feature>
        <bundle>mvn:hu.blackbelt.judo.meta/hu.blackbelt.judo.meta.measure.osgi/${judo-meta-measure-version}</bundle>
    </feature>

    <feature name="judo-tatami-meta-openapi" version="${project.version}" description="JUDO Tatami, OpenAPI Model " install="false">
        <feature dependency="true">epsilon-runtime</feature>
        <feature dependency="true">osgi-utils</feature>
        <feature dependency="true">guava-27</feature>
        <feature dependency="true">cxf-rs-description-swagger2</feature>
        <bundle>mvn:hu.blackbelt.judo.meta/hu.blackbelt.judo.meta.openapi.osgi/${judo-meta-openapi-version}</bundle>
    </feature>

    <feature name="judo-tatami-meta-rdbms" version="${project.version}" description="JUDO Tatami, RDBMS Model " install="false">
        <feature dependency="true">epsilon-runtime</feature>
        <feature dependency="true">osgi-utils</feature>
        <feature dependency="true">guava-27</feature>
        <bundle>mvn:hu.blackbelt.judo.meta/hu.blackbelt.judo.meta.rdbms.osgi/${judo-meta-rdbms-version}</bundle>
    </feature>

    <feature name="judo-tatami-meta-liquibase" version="${project.version}" description="JUDO Tatami, Liquibase Model " install="false">
        <feature dependency="true">epsilon-runtime</feature>
        <feature dependency="true">osgi-utils</feature>
        <feature dependency="true">guava-27</feature>
        <bundle>mvn:hu.blackbelt.judo.meta/hu.blackbelt.judo.meta.liquibase.osgi/${judo-meta-liquibase-version}</bundle>
    </feature>

    <feature name="judo-tatami-meta-jcl" version="${project.version}" description="JUDO Tatami, JCL Model " install="false">
        <feature>judo-tatami-meta-jql</feature>
        <feature dependency="true">guava</feature>
        <feature dependency="true">guice</feature>
        <feature dependency="true">epsilon-runtime</feature>
        <feature dependency="true">osgi-utils</feature>
        <bundle>mvn:hu.blackbelt.judo.meta/hu.blackbelt.judo.meta.jcl.osgi/${judo-meta-jcl-version}</bundle>
    </feature>

    <feature name="judo-tatami-meta-script" version="${project.version}" description="JUDO Tatami, Script Model " install="false">
        <feature>judo-tatami-meta-expression</feature>
        <feature dependency="true">epsilon-runtime</feature>
        <feature dependency="true">osgi-utils</feature>
        <feature dependency="true">guava-27</feature>
        <bundle>mvn:hu.blackbelt.judo.meta/hu.blackbelt.judo.meta.script.osgi/${judo-meta-script-version}</bundle>
    </feature>

    <feature name="judo-tatami-meta-script-asm" version="${project.version}" description="JUDO Tatami, Script Model for ASM" install="false">
        <feature>judo-tatami-meta-script</feature>
        <feature>judo-tatami-meta-measure</feature>
        <bundle>mvn:hu.blackbelt.judo.meta/hu.blackbelt.judo.meta.script.model.adapter.asm/${judo-meta-script-version}</bundle>
        <bundle>mvn:hu.blackbelt.judo.meta/hu.blackbelt.judo.meta.script.builder.jcl/${judo-meta-script-version}</bundle>
        <bundle>mvn:hu.blackbelt.judo.meta/hu.blackbelt.judo.meta.script.builder.jcl.asm/${judo-meta-script-version}</bundle>
    </feature>

    <feature name="judo-tatami-meta-ui" version="${project.version}" description="JUDO Tatami, UI Model " install="false">
        <feature dependency="true">epsilon-runtime</feature>
        <feature dependency="true">osgi-utils</feature>
        <feature dependency="true">guava-27</feature>
        <bundle>mvn:hu.blackbelt.judo.meta/hu.blackbelt.judo.meta.ui.osgi/${judo-meta-ui-version}</bundle>
    </feature>

    <feature name="judo-tatami-meta" version="${project.version}" description="JUDO Tatami, meta types" install="false">
        <feature>judo-tatami-meta-asm</feature>
        <feature>judo-tatami-meta-psm</feature>
        <feature>judo-tatami-meta-jql</feature>
        <feature>judo-tatami-meta-expression</feature>
        <feature>judo-tatami-meta-measure</feature>
        <feature>judo-tatami-meta-openapi</feature>
        <feature>judo-tatami-meta-rdbms</feature>
        <feature>judo-tatami-meta-liquibase</feature>
        <feature>judo-tatami-meta-script</feature>
        <feature>judo-tatami-meta-jcl</feature>
        <feature>judo-tatami-meta-ui</feature>
    </feature>


    <feature name="judo-tatami-core" version="${project.version}" description="JUDO Tatami, Core" install="false">
        <feature dependency="true">guava</feature>
        <feature dependency="true">guava-27</feature>
        <feature dependency="true" version="2.12.0">eclipse-emf</feature>
        <feature dependency="true">epsilon-runtime</feature>
        <feature>judo-tatami-meta-asm</feature>
        <bundle>mvn:hu.blackbelt.judo/judo-dao-api/${judo-dao-api-version}</bundle>
        <bundle>mvn:hu.blackbelt.judo/judo-dispatcher-api/${judo-dispatcher-api-version}</bundle>
        <bundle>mvn:hu.blackbelt.judo/judo-operation-utils/${judo-operation-utils-version}</bundle>
        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-core/${project.version}</bundle>
        <bundle>mvn:hu.blackbelt/structured-map-proxy/${structured-map-proxy-version}</bundle>        
    </feature>

    <feature name="judo-tatami-esm2psm" version="${project.version}" description="JUDO Tatami, ESM to PSM Transformation" install="false">
        <capability>osgi.service;effective:=active;objectClass=hu.blackbelt.judo.meta.psm.runtime.PsmModel</capability>
        <feature>judo-tatami-meta-esm</feature>
        <feature>judo-tatami-meta-psm</feature>
        <feature>judo-tatami-core</feature>
        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-esm2psm/${project.version}</bundle>
    </feature>


    <feature name="judo-tatami-psm2asm" version="${project.version}" description="JUDO Tatami, PSM to ASM Transformation" install="false">
        <capability>osgi.service;effective:=active;objectClass=hu.blackbelt.judo.meta.asm.runtime.AsmModel</capability>
        <feature>judo-tatami-meta-asm</feature>
        <feature>judo-tatami-meta-psm</feature>
        <feature>judo-tatami-core</feature>
        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-psm2asm/${project.version}</bundle>
    </feature>

    <feature name="judo-tatami-psm2measure" version="${project.version}" description="JUDO Tatami, PSM to Measure Transformation" install="false">
        <capability>osgi.service;effective:=active;objectClass=hu.blackbelt.judo.meta.measure.runtime.MeasureModel</capability>
        <feature>judo-tatami-meta-measure</feature>
        <feature>judo-tatami-meta-psm</feature>
        <feature>judo-tatami-core</feature>
        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-psm2measure/${project.version}</bundle>
    </feature>

    <feature name="judo-tatami-asm2jaxrsapi" version="${project.version}" description="JUDO Tatami, ASM to JAXRS API" install="false">
        <feature>judo-tatami-meta-asm</feature>
        <feature>judo-tatami-core</feature>
        <feature dependency="true">tinybundles</feature>
        <feature dependency="true">cxf-jackson</feature>
        <bundle dependency="true">mvn:hu.blackbelt.bundles.eclipse-jdt-ecj/org.eclipse.jdt.ecj/3.21.0_1</bundle>
        <bundle dependency="true">mvn:hu.blackbelt.judo.framework/compiler-api/${judo-framework-version}</bundle>
        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-asm2jaxrsapi/${project.version}</bundle>
    </feature>

    <feature name="judo-tatami-asm2expression" version="${project.version}" description="JUDO Tatami, ASM to Expression" install="false">
        <capability>osgi.service;effective:=active;objectClass=hu.blackbelt.judo.meta.expression.runtime.ExpressionModel</capability>
        <feature>judo-tatami-meta-asm</feature>
        <feature>judo-tatami-meta-expression</feature>
        <feature>judo-tatami-meta-measure</feature>
        <feature>judo-tatami-meta-jql</feature>
        <feature>judo-tatami-core</feature>
        <feature>judo-tatami-meta-expression-asm</feature>
        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-asm2expression/${project.version}</bundle>
    </feature>

    <feature name="judo-tatami-asm2script" version="${project.version}" description="JUDO Tatami, ASM to Script" install="false">
        <capability>osgi.service;effective:=active;objectClass=hu.blackbelt.judo.meta.script.runtime.ScriptModel</capability>
        <feature>judo-tatami-meta-asm</feature>
        <feature>judo-tatami-meta-script</feature>
        <feature>judo-tatami-meta-measure</feature>
        <feature>judo-tatami-meta-expression</feature>
        <feature>judo-tatami-meta-jql</feature>
        <feature>judo-tatami-meta-jcl</feature>
        <feature>judo-tatami-core</feature>
        <feature>judo-tatami-meta-expression-asm</feature>
        <feature>judo-tatami-meta-script-asm</feature>
        <bundle>mvn:hu.blackbelt.judo.meta/hu.blackbelt.judo.meta.script.builder.jcl/${judo-meta-script-version}</bundle>
        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-asm2script/${project.version}</bundle>
    </feature>

    <feature name="judo-tatami-asm2sdk" version="${project.version}" description="JUDO Tatami, ASM to SDK" install="false">
        <feature>judo-tatami-core</feature>
        <feature>judo-tatami-meta-asm</feature>
        <feature dependency="true">tinybundles</feature>
        <bundle dependency="true">mvn:hu.blackbelt.bundles.eclipse-jdt-ecj/org.eclipse.jdt.ecj/3.21.0_1</bundle>
        <bundle dependency="true">mvn:hu.blackbelt.judo.framework/compiler-api/${judo-framework-version}</bundle>
        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-asm2sdk/${project.version}</bundle>
    </feature>

    <feature name="judo-tatami-asm2openapi" version="${project.version}" description="JUDO Tatami, ASM to OpenAPI 2 (Swagger)" install="false">
        <capability>osgi.service;effective:=active;objectClass=hu.blackbelt.judo.meta.openapi.runtime.OpenapiModel</capability>
        <feature>judo-tatami-meta-asm</feature>
        <feature>judo-tatami-meta-openapi</feature>
        <feature>judo-tatami-core</feature>
        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-asm2openapi/${project.version}</bundle>
    </feature>

    <feature name="judo-tatami-asm2rdbms" version="${project.version}" description="JUDO Tatami, ASM to RDBMS" install="false">
        <capability>osgi.service;effective:=active;objectClass=hu.blackbelt.judo.meta.rdbms.runtime.RdbmsModel</capability>
        <feature>judo-tatami-meta-asm</feature>
        <feature>judo-tatami-meta-rdbms</feature>
        <feature>judo-tatami-core</feature>
        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-asm2rdbms/${project.version}</bundle>
    </feature>

    <feature name="judo-tatami-rdbms2liquibase" version="${project.version}" description="JUDO Tatami, RDBMS to Liquibase" install="false">
        <capability>osgi.service;effective:=active;objectClass=hu.blackbelt.judo.meta.liquibase.runtime.LiquibaseModel</capability>
        <feature>judo-tatami-meta-rdbms</feature>
        <feature>judo-tatami-meta-liquibase</feature>
        <feature>judo-tatami-core</feature>
        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-rdbms2liquibase/${project.version}</bundle>
    </feature>

    <feature name="judo-tatami-script2operation" version="${project.version}" description="JUDO Tatami, Script to Operation API" install="false">
        <feature>judo-tatami-meta-script</feature>
        <feature>judo-tatami-meta-expression</feature>
        <feature>judo-tatami-core</feature>
        <feature dependency="true">tinybundles</feature>
        <feature dependency="true">eclipse-xtext</feature>
        <bundle dependency="true">mvn:hu.blackbelt.bundles.eclipse-jdt-ecj/org.eclipse.jdt.ecj/3.21.0_1</bundle>
        <bundle dependency="true">mvn:hu.blackbelt.judo.framework/compiler-api/${judo-framework-version}</bundle>
        <bundle>mvn:hu.blackbelt.judo.script/hu.blackbelt.judo.script.codegen.generator/${judo-script-codegen-version}</bundle>
        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-script2operation/${project.version}</bundle>
    </feature>

    <feature name="judo-tatami-openapi2restclient" version="${project.version}" description="JUDO Tatami, OpenAPI to Rest client stubs" install="false">
        <feature>openapi-generator</feature>
        <feature>judo-tatami-meta-openapi</feature>
        <feature>judo-tatami-core</feature>
        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-openapi2restclient/${project.version}</bundle>
    </feature>

    <feature name="judo-tatami-validation-psm" version="${project.version}" description="JUDO Tatami, PSM Validation API" install="false">
        <feature>judo-tatami-meta-psm</feature>
        <feature>judo-tatami-core</feature>
        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-psm-validation/${project.version}</bundle>
    </feature>

    <feature name="judo-tatami-validation-asm" version="${project.version}" description="JUDO Tatami, ASM Validation API" install="false">
        <feature>judo-tatami-meta-asm</feature>
        <feature>judo-tatami-core</feature>
        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-asm-validation/${project.version}</bundle>
    </feature>

    <feature name="judo-tatami-validation-esm" version="${project.version}" description="JUDO Tatami, ESM Validation API" install="false">
        <feature>judo-tatami-meta-esm</feature>
        <feature>judo-tatami-core</feature>
        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-esm-validation/${project.version}</bundle>
    </feature>

    <feature name="judo-tatami-validation-expression-asm" version="${project.version}" description="JUDO Tatami, Expression ASM Validation API" install="false">
        <feature>judo-tatami-meta-asm</feature>
        <feature>judo-tatami-meta-expression</feature>
        <feature>judo-tatami-core</feature>
        <feature>judo-tatami-meta-measure</feature>
        <bundle>mvn:hu.blackbelt.judo.meta/hu.blackbelt.judo.meta.expression.model.adapter.measure/${judo-meta-expression-version}</bundle>
        <bundle>mvn:hu.blackbelt.judo.meta/hu.blackbelt.judo.meta.expression.model.adapter.asm/${judo-meta-expression-version}</bundle>
        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-expression-asm-validation/${project.version}</bundle>
    </feature>

    <feature name="judo-tatami-validation-expression-psm" version="${project.version}" description="JUDO Tatami, Expression PSM Validation API" install="false">
        <feature>judo-tatami-meta-psm</feature>
        <feature>judo-tatami-meta-expression</feature>
        <feature>judo-tatami-core</feature>
        <feature>judo-tatami-meta-measure</feature>
        <bundle>mvn:hu.blackbelt.judo.meta/hu.blackbelt.judo.meta.expression.model.adapter.measure/${judo-meta-expression-version}</bundle>
        <bundle>mvn:hu.blackbelt.judo.meta/hu.blackbelt.judo.meta.expression.model.adapter.psm/${judo-meta-expression-version}</bundle>
        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-expression-psm-validation/${project.version}</bundle>
    </feature>

    <feature name="judo-tatami-validation-expression-esm" version="${project.version}" description="JUDO Tatami, Expression ESM Validation API" install="false">
        <feature>judo-tatami-meta-esm</feature>
        <feature>judo-tatami-meta-expression</feature>
        <feature>judo-tatami-core</feature>
        <feature>judo-tatami-meta-measure</feature>
        <bundle>mvn:hu.blackbelt.judo.meta/hu.blackbelt.judo.meta.expression.model.adapter.measure/${judo-meta-expression-version}</bundle>
        <bundle>mvn:hu.blackbelt.judo.meta/hu.blackbelt.judo.meta.expression.model.adapter.esm/${judo-meta-expression-version}</bundle>
        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-expression-esm-validation/${project.version}</bundle>
    </feature>

    <feature name="judo-tatami-workflow" version="${project.version}" description="JUDO Tatami, OSGi workflow feature" install="false">
        <feature>judo-tatami-core</feature>
        <feature>judo-tatami-meta-esm</feature>

        <feature>judo-tatami-esm2psm</feature>
        <feature>judo-tatami-psm2asm</feature>
        <feature>judo-tatami-psm2measure</feature>
        <feature>judo-tatami-asm2jaxrsapi</feature>
        <feature>judo-tatami-asm2expression</feature>
        <feature>judo-tatami-asm2script</feature>
        <feature>judo-tatami-asm2openapi</feature>
        <feature>judo-tatami-asm2sdk</feature>
        <feature>judo-tatami-asm2rdbms</feature>
        <feature>judo-tatami-rdbms2liquibase</feature>
        <feature>judo-tatami-script2operation</feature>

        <feature>judo-tatami-validation-asm</feature>
        <feature>judo-tatami-validation-psm</feature>
        <feature>judo-tatami-validation-esm</feature>
        <feature>judo-tatami-validation-expression-asm</feature>
        <feature>judo-tatami-validation-expression-psm</feature>
        <feature>judo-tatami-validation-expression-esm</feature>

        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-workflow/${project.version}</bundle>
        <bundle>mvn:hu.blackbelt.judo.tatami/judo-tatami-workflow-osgi/${project.version}</bundle>
    </feature>

</features>






